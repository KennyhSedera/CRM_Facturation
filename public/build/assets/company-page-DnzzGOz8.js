import{j as e,r as l}from"./app-CyrDBGaf.js";import{H as h}from"./head-D4ofXNO_.js";import{F as u}from"./index-DV8p_lqH.js";import{I as g}from"./index-D1dV5CeL.js";import{B as p}from"./building-2-DROhlTa_.js";import{E as b,S as f}from"./search-KqpqqHxS.js";import{c as j}from"./createLucideIcon-xS_vLmnf.js";import{M as N,P as w}from"./phone-C7Bf1Zq5.js";import{G as v,C as k,a as y}from"./globe-CBaDNEYd.js";import{M as _}from"./map-pin-zK9xSnjg.js";import{U as C}from"./users-B176NJir.js";import{A as E}from"./app-layout-D7mYBUB3.js";/* empty css            */import"./button-CfVtOmmi.js";import"./index-D3xsc1B8.js";import"./index-B9hpFgwd.js";import"./x-B1thnnUs.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],A=j("EllipsisVertical",S),P=({company:s,onView:n,onEdit:c,onMore:x})=>{const o=t=>{const d={premium:"bg-purple-100 text-purple-700 border-purple-200",basic:"bg-blue-100 text-blue-700 border-blue-200",trial:"bg-gray-100 text-gray-700 border-gray-200",free:"bg-gray-100 text-gray-700 border-gray-200",entreprise:"bg-emerald-100 text-emerald-700 border-emerald-200"};return d[t]||d.basic},i=t=>t?new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"N/A";return e.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm transition-all duration-200 hover:shadow-md dark:border-gray-500 dark:bg-white/15",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute -right-1 -bottom-1",children:s.is_active?e.jsx(u,{className:"text-green-400 bg-white rounded-full size-5"}):e.jsx(g,{className:"text-red-500 bg-white rounded-full size-5"})}),s.company_logo?e.jsx("img",{src:`/storage/${s.company_logo}`,className:" h-16 w-16 rounded-xl",alt:"logo entreprise"}):e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:e.jsx(p,{className:"h-8 w-8 text-white"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-1 text-xl font-bold text-slate-800 dark:text-white",children:s.company_name}),e.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${o(s.plan_status)}`,children:s.plan_status.toUpperCase()})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>n?.(s.company_id),className:"cursor-pointer rounded-lg p-2 transition-colors hover:bg-slate-100 dark:hover:bg-slate-900",children:e.jsx(b,{className:"h-5 w-5 text-slate-600 dark:text-gray-300"})}),e.jsx("button",{onClick:()=>x?.(s.company_id),className:"cursor-pointer rounded-lg p-2 transition-colors hover:bg-slate-100 dark:hover:bg-slate-900",children:e.jsx(A,{className:"h-5 w-5 text-slate-600 dark:text-gray-300"})})]})]}),s.company_description&&e.jsx("p",{className:"mb-6 text-slate-600 dark:text-gray-300 line-clamp-3 text-justify",children:s.company_description}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2",children:e.jsx(N,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"truncate text-sm font-medium  text-slate-700 dark:text-gray-300",children:s.company_email})]})]}),s.company_phone&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-green-100 p-2",children:e.jsx(w,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Téléphone"}),e.jsx("p",{className:"text-sm font-medium  text-slate-700 dark:text-gray-300",children:s.company_phone})]})]}),s.company_website&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-purple-100 p-2",children:e.jsx(v,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Site web"}),e.jsx("p",{className:"truncate text-sm font-medium  text-slate-700 dark:text-gray-300",children:s.company_website})]})]}),(s.company_address||s.company_country)&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-orange-100 p-2",children:e.jsx(_,{className:"h-4 w-4 text-orange-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Localisation"}),e.jsx("p",{className:"text-sm font-medium  text-slate-700 dark:text-gray-300",children:[s.company_address,s.company_country].filter(Boolean).join(", ")})]})]}),s.client_count!==void 0&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-pink-100 p-2",children:e.jsx(C,{className:"h-4 w-4 text-pink-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Clients"}),e.jsxs("p",{className:"text-sm font-medium  text-slate-700 dark:text-gray-300",children:[s.client_count," clients"]})]})]}),s.company_currency&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 dark:bg-black p-3",children:[e.jsx("div",{className:"rounded-lg bg-indigo-100 p-2",children:e.jsx(k,{className:"h-4 w-4 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"mb-0.5 text-xs text-slate-500 dark:text-gray-400",children:"Devise"}),e.jsx("p",{className:"text-sm font-medium  text-slate-700 dark:text-gray-300",children:s.company_currency})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 dark:border-gray-500 pt-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-slate-400 dark:text-gray-400"}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-gray-200",children:["Plan: ",i(s.plan_start_date)," - ",i(s.plan_end_date)]})]})}),e.jsx("div",{className:"flex items-center gap-2",children:s.users&&Array.isArray(s.users)?e.jsxs(e.Fragment,{children:[s.users.slice(0,3).map(t=>e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-gradient-to-br from-blue-400 to-purple-500 text-xs font-medium text-white shadow-sm",title:t.name,children:t.name.charAt(0)},t.id)),s.users.length>3&&e.jsxs("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-slate-200 text-xs font-medium text-slate-600 shadow-sm",children:["+",s.users.length-3]})]}):s.users&&e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full border-2 border-white bg-gradient-to-br from-blue-400 to-purple-500 text-xs font-medium text-white shadow-sm",title:s.users.name,children:s.users.name.charAt(0)})})]})]})})},L=[{title:"Entreprises",href:"/companies"}];function Q(){const[s,n]=l.useState(""),[c,x]=l.useState("all"),[o,i]=l.useState([]),t=l.useCallback(async()=>{try{const a=await(await fetch("/api/companies")).json();i(a.data)}catch(r){console.error("Erreur lors du chargement:",r)}},[]);l.useEffect(()=>{t()},[t]);const d=o.filter(r=>{const a=r.company_name.toLowerCase().includes(s.toLowerCase()),m=c==="all"||r.plan_status===c;return a&&m});return e.jsxs(E,{breadcrumbs:L,children:[e.jsx(h,{title:"Entreprises"}),e.jsxs("div",{className:"mb-8 items-center justify-between border-b border-gray-100 md:flex dark:border-gray-500",children:[e.jsx("div",{className:"mb-2 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"mb-1 text-3xl font-bold text-slate-800 dark:text-white",children:"Entreprises"}),e.jsx("p",{className:"text-slate-600 dark:text-gray-300",children:"Gérez toutes vos entreprises en un seul endroit"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(f,{className:"absolute top-1/2 left-3 h-5 w-5 -translate-y-1/2 transform text-slate-400"}),e.jsx("input",{type:"search",placeholder:"Rechercher une entreprise...",value:s,onChange:r=>n(r.target.value),className:"w-auto rounded-xl border border-slate-200 py-2.5 pr-4 pl-10 focus:border-transparent focus:ring-2 focus:ring-blue-500 focus:outline-none md:w-full"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 2xl:grid-cols-3",children:d.map(r=>e.jsx(P,{company:r,onView:a=>console.log("Voir",a),onMore:a=>console.log("Plus",a)},r.company_id))})]})}export{Q as default};
