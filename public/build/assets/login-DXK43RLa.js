import{r as c,j as e,u as z,H as O}from"./app-CyrDBGaf.js";import{T as U}from"./text-link-Boe0Fcai.js";import{u as _,c as G,B as K}from"./button-CfVtOmmi.js";import{c as X,P as $,u as J,a as P,b as Q}from"./index-D3xsc1B8.js";import{P as N}from"./index-B9hpFgwd.js";import{C as V}from"./check-CbA50X-l.js";import{L as W}from"./label-D9b6f_7v.js";import{T as R}from"./text-input-CzBIILIY.js";import{A as Y,L as Z}from"./auth-layout-BDj35SC9.js";/* empty css            */import"./createLucideIcon-xS_vLmnf.js";import"./input-error-9K3CDpvX.js";import"./index-DV8p_lqH.js";function ee(t){const s=c.useRef({value:t,previous:t});return c.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var j="Checkbox",[re,ge]=X(j),[te,E]=re(j);function se(t){const{__scopeCheckbox:s,checked:i,children:p,defaultChecked:o,disabled:r,form:a,name:f,onCheckedChange:d,required:h,value:k="on",internal_do_not_use_render:l}=t,[b,n]=J({prop:i,defaultProp:o??!1,onChange:d,caller:j}),[x,g]=c.useState(null),[v,u]=c.useState(null),m=c.useRef(!1),w=x?!!a||!!x.closest("form"):!0,y={checked:b,disabled:r,setChecked:n,control:x,setControl:g,name:f,form:a,value:k,hasConsumerStoppedPropagationRef:m,required:h,defaultChecked:C(o)?!1:o,isFormControl:w,bubbleInput:v,setBubbleInput:u};return e.jsx(te,{scope:s,...y,children:oe(l)?l(y):p})}var S="CheckboxTrigger",L=c.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:i,...p},o)=>{const{control:r,value:a,disabled:f,checked:d,required:h,setControl:k,setChecked:l,hasConsumerStoppedPropagationRef:b,isFormControl:n,bubbleInput:x}=E(S,t),g=_(o,k),v=c.useRef(d);return c.useEffect(()=>{const u=r?.form;if(u){const m=()=>l(v.current);return u.addEventListener("reset",m),()=>u.removeEventListener("reset",m)}},[r,l]),e.jsx(N.button,{type:"button",role:"checkbox","aria-checked":C(d)?"mixed":d,"aria-required":h,"data-state":A(d),"data-disabled":f?"":void 0,disabled:f,value:a,...p,ref:g,onKeyDown:P(s,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:P(i,u=>{l(m=>C(m)?!0:!m),x&&n&&(b.current=u.isPropagationStopped(),b.current||u.stopPropagation())})})});L.displayName=S;var F=c.forwardRef((t,s)=>{const{__scopeCheckbox:i,name:p,checked:o,defaultChecked:r,required:a,disabled:f,value:d,onCheckedChange:h,form:k,...l}=t;return e.jsx(se,{__scopeCheckbox:i,checked:o,defaultChecked:r,disabled:f,required:a,onCheckedChange:h,name:p,form:k,value:d,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(L,{...l,ref:s,__scopeCheckbox:i}),b&&e.jsx(q,{__scopeCheckbox:i})]})})});F.displayName=j;var B="CheckboxIndicator",M=c.forwardRef((t,s)=>{const{__scopeCheckbox:i,forceMount:p,...o}=t,r=E(B,i);return e.jsx($,{present:p||C(r.checked)||r.checked===!0,children:e.jsx(N.span,{"data-state":A(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:s,style:{pointerEvents:"none",...t.style}})})});M.displayName=B;var T="CheckboxBubbleInput",q=c.forwardRef(({__scopeCheckbox:t,...s},i)=>{const{control:p,hasConsumerStoppedPropagationRef:o,checked:r,defaultChecked:a,required:f,disabled:d,name:h,value:k,form:l,bubbleInput:b,setBubbleInput:n}=E(T,t),x=_(i,n),g=ee(r),v=Q(p);c.useEffect(()=>{const m=b;if(!m)return;const w=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(w,"checked").set,D=!o.current;if(g!==r&&I){const H=new Event("click",{bubbles:D});m.indeterminate=C(r),I.call(m,C(r)?!1:r),m.dispatchEvent(H)}},[b,g,r,o]);const u=c.useRef(C(r)?!1:r);return e.jsx(N.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,required:f,disabled:d,name:h,value:k,form:l,...s,tabIndex:-1,ref:x,style:{...s.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q.displayName=T;function oe(t){return typeof t=="function"}function C(t){return t==="indeterminate"}function A(t){return C(t)?"indeterminate":t?"checked":"unchecked"}function ae({className:t,...s}){return e.jsx(F,{"data-slot":"checkbox",className:G("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(M,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(V,{className:"size-3.5"})})})}function Ce({status:t,canResetPassword:s,email:i,password:p,redirect_text:o}){const{data:r,setData:a,post:f,processing:d,errors:h,reset:k,setError:l}=z({email:i||"",password:p||"",remember:!1});c.useEffect(()=>{const n=new URLSearchParams(window.location.search),x=n.get("email"),g=n.get("password");x&&a("email",x),g&&a("password",g)},[]);const b=n=>{n.preventDefault(),f(route("login"),{onFinish:()=>k("password")})};return e.jsxs(Y,{title:"Se connecter avec votre compte",description:"",children:[e.jsx(O,{title:"Log in"}),o&&e.jsxs("div",{className:"mb-4 rounded-lg bg-blue-50 p-4 text-sm text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[e.jsx("p",{className:"font-medium",children:o}),r.email&&e.jsxs("p",{className:"mt-1",children:["Email : ",e.jsx("strong",{children:r.email})]})]}),t&&e.jsx("div",{className:"mb-4 rounded-lg bg-green-50 p-4 text-sm text-green-800 dark:bg-green-900/20 dark:text-green-400",children:t}),e.jsx("form",{className:"flex w-auto flex-col gap-6 rounded-md bg-gray-100 p-8 dark:bg-white/15",onSubmit:b,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"grid gap-2",children:e.jsx(R,{label:"Adresse email",id:"email",type:"email",required:!0,autoFocus:!r.email,tabIndex:1,autoComplete:"email",value:r.email,onChange:n=>a("email",n.target.value),placeholder:"email@example.com",error:h.email,onFocus:()=>l("email","")})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:s&&e.jsx(U,{href:route("password.request"),className:"ml-auto text-sm",tabIndex:5,children:"Mot de passe oubliÃ© ?"})}),e.jsx(R,{label:"Mot de passe",id:"password",type:"password",required:!0,autoFocus:!!r.email,tabIndex:2,autoComplete:"current-password",value:r.password,onChange:n=>a("password",n.target.value),placeholder:"Mot de passe",error:h.password,onFocus:()=>l("password","")})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ae,{id:"remember",name:"remember",checked:r.remember,onClick:()=>a("remember",!r.remember),tabIndex:3,className:"border-2 border-gray-400 dark:border-gray-100"}),e.jsx(W,{htmlFor:"remember",children:"Se souvenir de moi"})]}),e.jsxs(K,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:d,children:[d&&e.jsx(Z,{className:"h-4 w-4 animate-spin"}),"Se connecter"]})]})})]})}export{Ce as default};
