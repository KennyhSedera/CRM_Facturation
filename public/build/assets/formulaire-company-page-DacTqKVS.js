import{j as e,r as k,u as V,a as H,H as W,b as $}from"./app-CvKhwmMn.js";import{B as Y}from"./button-HelqvS2X.js";import{G as J}from"./iconBase-CuZ0-yQC.js";import{c as X}from"./createLucideIcon-BUTlL9eK.js";import{C as K}from"./check-CNdxRvDW.js";import{X as Z}from"./x-DbWuFzAQ.js";import{T as j}from"./text-input-22WEGgOx.js";import{a as T}from"./utils-EVyv9-g_.js";import{I as Q}from"./index-BplZ3kR1.js";import{B as A}from"./building-2-DvyFi4qz.js";import{M as B}from"./map-pin-BPzPUnYs.js";import{S as O}from"./shield-ChMuevUH.js";/* empty css            */import"./input-error-Cf-vQ9ZC.js";import"./index-BYUqP1Uk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],re=X("File",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L=X("Info",ae);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],se=X("Upload",te),ne="/build/assets/espece-pKYvlwN6.jpg",le="/build/assets/orange-1jEXaUfU.png",oe="/build/assets/wave-CSDm93kT.webp";function U(m){return J({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258 21.89c-.5 0-1.2 0-1.8.12-4.6.85-10.1 5.1-13.7 14.81-3.8 9.7-4.6 23.53-1.3 38.34 3.4 14.63 10.4 27.24 18.2 34.94 7.6 7.7 14.5 9.8 19.1 9 4.8-.7 10.1-5.1 13.7-14.7 3.8-9.64 4.8-23.66 1.4-38.35-3.5-14.8-10.4-27.29-18.2-34.94-6.6-6.8-12.7-9.22-17.4-9.22zM373.4 151.4c-11 .3-24.9 3.2-38.4 8.9-15.6 6.8-27.6 15.9-34.2 24.5-6.6 8.3-7.2 14.6-5.1 18.3 2.2 3.7 8.3 7.2 20 7.7 11.7.7 27.5-2.2 43-8.8 15.5-6.7 27.7-15.9 34.3-24.3 6.6-8.3 7.1-14.8 5-18.5-2.1-3.8-8.3-7.1-20-7.5-1.6-.3-3-.3-4.6-.3zm-136.3 92.9c-6.6.1-12.6.9-18 2.3-11.8 3-18.6 8.4-20.8 14.9-2.5 6.5 0 14.3 7.8 22.7 8.2 8.2 21.7 16.1 38.5 20.5 16.7 4.4 32.8 4.3 44.8 1.1 12.1-3.1 18.9-8.6 21.1-15 2.3-6.5 0-14.2-8.1-22.7-7.9-8.2-21.4-16.1-38.2-20.4-9.5-2.5-18.8-3.5-27.1-3.4zm160.7 58.1L336 331.7c4.2.2 14.7.5 14.7.5l6.6 8.7 54.7-28.5-14.2-10zm-54.5.1l-57.4 27.2c5.5.3 18.5.5 23.7.8l49.8-23.6-16.1-4.4zm92.6 10.8l-70.5 37.4 14.5 18.7 74.5-44.6-18.5-11.5zm-278.8 9.1a40.33 40.33 0 0 0-9 1c-71.5 16.5-113.7 17.9-126.2 17.9H18v107.5s11.6-1.7 30.9-1.8c37.3 0 103 6.4 167 43.8 3.4 2.1 10.7 2.9 19.8 2.9 24.3 0 61.2-5.8 69.7-9C391 452.6 494 364.5 494 364.5l-32.5-28.4s-79.8 50.9-89.9 55.8c-91.1 44.7-164.9 16.8-164.9 16.8s119.9 3 158.4-27.3l-22.6-34s-82.8-2.3-112.3-6.2c-15.4-2-48.7-18.8-73.1-18.8z"},child:[]}]})(m)}const ie=({label:m,icon:p,selected:c,onSelect:l})=>e.jsx("div",{onClick:l,className:`group relative cursor-pointer overflow-hidden rounded-2xl border-2 bg-white/80 p-6 shadow-sm backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:shadow-xl dark:bg-black/80 ${c?"border-green-500 dark:border-green-400":"border-gray-200 hover:border-gray-300 dark:border-gray-700 dark:hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-5",children:[e.jsxs("div",{className:"relative",children:[m!=="Autre"?e.jsx("img",{src:p,alt:`logo ${m}`,className:`relative h-32 w-32 rounded-full object-cover ring-4 transition-all duration-300 shadow ${c?"ring-green-500 group-hover:ring-green-500 dark:ring-green-400 dark:group-hover:ring-green-400":"ring-gray-100 group-hover:ring-8 dark:ring-gray-700 dark:group-hover:ring-gray-600"}`}):e.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full bg-gradient-to-br from-indigo-50 to-purple-50 ring-4 transition-all duration-300 dark:from-indigo-900/30 dark:to-purple-900/30 ${c?"ring-green-500 group-hover:ring-green-500 dark:ring-green-400 dark:group-hover:ring-green-400":"ring-gray-100 group-hover:ring-8 dark:ring-gray-700 dark:group-hover:ring-gray-600"}`,children:e.jsx(U,{className:"h-20 w-20 text-indigo-600 dark:text-indigo-400"})}),e.jsx("div",{className:`absolute bottom-1 right-1 flex h-8 w-8 items-center justify-center rounded-full shadow-md ring-2 transition-all duration-300 ${c?"scale-100 bg-green-500 ring-white opacity-100 dark:bg-green-400 dark:ring-gray-800":"scale-0 bg-gray-300 ring-gray-100 opacity-0 dark:bg-gray-600"}`,children:e.jsx("span",{className:"text-xs font-semibold text-white",children:"‚úì"})})]}),e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("h3",{className:`text-base font-bold transition-all duration-300 group-hover:scale-110 ${c?"text-green-500 dark:text-green-400":"text-gray-700 group-hover:text-gray-900 dark:text-gray-200 dark:group-hover:text-white"}`,children:m}),e.jsx("p",{className:`text-xs transition-opacity duration-300 group-hover:opacity-100 ${c?"text-green-500 opacity-100 dark:text-green-400":"text-gray-500 opacity-0 dark:text-gray-400"}`,children:c?"S√©lectionn√©":"S√©lectionner"})]})]})}),q=({id:m,label:p,value:c,onChange:l,error:d,required:u=!1,min:i,max:v,disabled:y=!1,placeholder:g,helperText:t,icon:n})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{htmlFor:m,className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-300",children:[p,u&&e.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[n&&e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400 dark:text-gray-500",children:n}),e.jsx("input",{type:"date",id:m,value:c,onChange:b=>l(b.target.value),min:i,max:v,disabled:y,placeholder:g,className:`w-full rounded-lg border-2 bg-white px-4 py-3 text-gray-900 transition-all focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-black dark:text-white ${n?"pl-10":""} ${d?"border-red-500 focus:border-red-500 dark:border-red-400":"border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-400"}`})]}),t&&!d&&e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:t}),d&&e.jsx("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:d})]});function de({label:m,icon:p,error:c,required:l=!1,onFileChange:d,maxSize:u=2,acceptedFormats:i=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],showPreview:v=!0,className:y="",...g}){const[t,n]=k.useState(null),[b,o]=k.useState(null),[h,w]=k.useState(!1),[C,_]=k.useState(null),f=k.useRef(null),E=r=>r.size/1048576>u?`Le fichier est trop volumineux. Taille maximale: ${u}MB`:i.length>0&&!i.includes(r.type)?`Format non accept√©. Formats autoris√©s: ${i.map(x=>x.split("/")[1].toUpperCase()).join(", ")}`:null,S=r=>{const s=E(r);if(s){_(s),o(null),n(null),d&&d(null);return}if(_(null),o(r),r.type.startsWith("image/")&&v){const x=new FileReader;x.onloadend=()=>{n(x.result)},x.readAsDataURL(r)}else n(null);d&&d(r)},D=r=>{const s=r.target.files?.[0];s&&S(s)},I=r=>{r.preventDefault(),r.stopPropagation(),w(!0)},P=r=>{r.preventDefault(),r.stopPropagation(),w(!1)},z=r=>{r.preventDefault(),r.stopPropagation()},M=r=>{r.preventDefault(),r.stopPropagation(),w(!1);const s=r.dataTransfer.files?.[0];s&&S(s)},R=()=>{o(null),n(null),_(null),f.current&&(f.current.value=""),d&&d(null)},a=r=>r<1024?r+" B":r<1024*1024?(r/1024).toFixed(1)+" KB":(r/(1024*1024)).toFixed(1)+" MB";return e.jsxs("div",{className:y,children:[e.jsxs("label",{className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-300",children:[p&&e.jsx("span",{className:"mr-2 inline-flex h-4 w-4 text-blue-500 dark:text-blue-400",children:p}),m,l&&e.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-4",children:[!b&&e.jsxs("div",{onDragEnter:I,onDragOver:z,onDragLeave:P,onDrop:M,className:`relative rounded-xl border-2 border-dashed transition-all ${h?"border-indigo-500 bg-blue-50 dark:border-indigo-400 dark:bg-blue-900/20":c||C?"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/10":"border-gray-300 bg-gray-50 dark:border-gray-600 dark:bg-black/50 hover:border-indigo-500 dark:hover:border-indigo-400"} p-8 text-center cursor-pointer`,onClick:()=>f.current?.click(),children:[e.jsx("input",{ref:f,type:"file",onChange:D,className:"hidden",accept:i.join(","),...g}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[e.jsx("div",{className:`rounded-full p-3 ${h?"bg-blue-100 dark:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700"}`,children:e.jsx(se,{className:`h-8 w-8 ${h?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:h?"D√©posez le fichier ici":"Cliquez pour t√©l√©verser ou glissez-d√©posez"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[i.map(r=>r.split("/")[1].toUpperCase()).join(", ")," (max. ",u,"MB)"]})]})]})]}),b&&e.jsx("div",{className:"rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-black p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:t?e.jsx("div",{className:"relative h-20 w-20 rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-600",children:e.jsx("img",{src:t,alt:"Aper√ßu",className:"h-full w-full object-cover"})}):e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600",children:e.jsx(re,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(K,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:b.name})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a(b.size)," ‚Ä¢ ",b.type.split("/")[1].toUpperCase()]})]}),e.jsx("button",{type:"button",onClick:R,className:"flex-shrink-0 p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:text-red-400 dark:hover:bg-red-900/20 transition-colors","aria-label":"Supprimer le fichier",children:e.jsx(Z,{className:"h-5 w-5"})})]})}),(c||C)&&e.jsxs("div",{className:"flex items-start space-x-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{children:c||C})]})]})]})}const F=({id:m,label:p,value:c,onChange:l,options:d,error:u,required:i=!1,disabled:v=!1,placeholder:y,helperText:g})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("label",{htmlFor:m,className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-300",children:[p,i&&e.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),e.jsxs("select",{id:m,value:c,onChange:t=>l(t.target.value),disabled:v,className:`w-full rounded-lg border-2 px-4 py-3 text-gray-900 transition-all focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-black dark:text-white ${u?"border-red-500 focus:border-red-500 dark:border-red-400":"border-gray-300 focus:border-indigo-500 dark:border-gray-600 dark:focus:border-indigo-400"}`,children:[y&&e.jsx("option",{value:"",disabled:!0,children:y}),d.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),g&&!u&&e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:g}),u&&e.jsx("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:u})]}),ce=({label:m,id:p,value:c,onChange:l,placeholder:d="",rows:u=4,error:i,required:v=!1,className:y="",disabled:g=!1,maxLength:t,helperText:n})=>{const b=c?.length||0,o=t!==void 0;return e.jsxs("div",{className:y,children:[e.jsxs("label",{htmlFor:p,className:"mb-2 block text-sm font-semibold text-gray-700 dark:text-gray-300",children:[m,v&&e.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{id:p,value:c,onChange:l,rows:u,maxLength:t,disabled:g,className:`w-full rounded-lg border-2 px-4 py-3 transition-all
                        ${i?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:border-indigo-500 dark:focus:border-indigo-400"}
                        bg-white dark:bg-black
                        text-gray-900 dark:text-white
                        placeholder:text-gray-400 dark:placeholder:text-gray-500
                        focus:outline-none
                        disabled:bg-gray-100 dark:disabled:bg-gray-800
                        disabled:cursor-not-allowed disabled:opacity-60
                        resize-none
                    `,placeholder:d,"aria-invalid":i?"true":"false","aria-describedby":i?`${p}-error`:n?`${p}-helper`:void 0}),o&&e.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500 dark:text-gray-400 bg-white/80 dark:bg-black/80 px-2 py-1 rounded",children:[b,"/",t]})]}),n&&!i&&e.jsx("p",{id:`${p}-helper`,className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n}),i&&e.jsxs("p",{id:`${p}-error`,className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i]})]})},me=[{value:"espece",label:"En esp√®ce",icon:ne},{value:"wave",label:"Wave",icon:oe},{value:"orange_money",label:"Orange Money",icon:le},{value:"autre",label:"Autre",icon:"üè¢"}];function Se(){const{url:m}=V(),[p,c]=k.useState(null),[l,d]=k.useState(1),[u,i]=k.useState(null),[v,y]=k.useState(null),g=new URLSearchParams(m.split("?")[1]).get("plan"),{data:t,setData:n,processing:b,errors:o,setError:h}=H({company_name:"",company_email:"",company_logo:null,plan_status:g,company_description:"",company_phone:"",company_website:"",company_address:"",company_city:"",company_postal_code:"",company_country:"Togo",company_registration_number:"",company_tax_number:"",plan_start_date:new Date().toISOString().split("T")[0],plan_end_date:T(new Date().toISOString().split("T")[0]),is_active:!0,company_currency:"XOF",company_timezone:"Africa/Lome",mode_paiement:""}),w=async()=>{i(null),y(null);for(let r=1;r<=f.length;r++)if(!z(r)){d(r),window.scrollTo({top:0,behavior:"smooth"});return}const a=new FormData;Object.keys(t).forEach(r=>{const s=t[r];r==="company_logo"&&s instanceof File?a.append(r,s):typeof s=="boolean"?a.append(r,s?"1":"0"):s!=null&&s!==""&&a.append(r,String(s))});try{const s=(await $.post("/api/companies",a,{headers:{Accept:"application/json"},withCredentials:!0,onUploadProgress:x=>{const N=Math.round(x.loaded*100/(x.total||1));console.log("Upload progress:",N+"%")}})).data;s.success?(y(s.message||"Entreprise cr√©√©e avec succ√®s !"),setTimeout(()=>{const x="/login?email="+encodeURIComponent(t.company_email)+"&password="+encodeURIComponent(t.company_name)+"&redirect_url=/dashboard&redirect_text="+encodeURIComponent("Veuillez vous connecter avec votre adresse email:");window.location.href=x},2e3)):(s.errors?(Object.entries(s.errors).forEach(([x,N])=>{const G=Array.isArray(N)?N[0]:N;h(x,G)}),d(1)):i(s.message||"Une erreur est survenue"),window.scrollTo({top:0,behavior:"smooth"}))}catch(r){if(console.error("üî¥ Erreur compl√®te:",r),$.isAxiosError(r))if(r.response){console.error("üìä Status:",r.response.status),console.error("üì¶ Response Data:",r.response.data),console.error("üìã Headers:",r.response.headers);const s=r.response.data;s.errors?(Object.keys(s.errors).forEach(x=>{const N=Array.isArray(s.errors[x])?s.errors[x][0]:s.errors[x];h(x,N)}),d(1)):i(s.message||`Erreur ${r.response.status}: ${r.response.statusText}`)}else r.request?(console.error("üì° Aucune r√©ponse du serveur"),console.error("Request:",r.request),i("Le serveur ne r√©pond pas. V√©rifiez que le backend est d√©marr√©.")):(console.error("‚öôÔ∏è Erreur de configuration:",r.message),i("Erreur lors de la pr√©paration de la requ√™te."));else console.error("‚ùå Erreur inattendue:",r),i("Une erreur inattendue est survenue. Veuillez r√©essayer.");window.scrollTo({top:0,behavior:"smooth"})}},C=a=>{if(a){n("company_logo",a);const r=new FileReader;r.onloadend=()=>{c(r.result)},r.readAsDataURL(a)}},_=[{id:1,name:"Informations de base",icon:A,requiredPlans:["free","premium","enterprise","basic"]},{id:2,name:"Coordonn√©es",icon:B,requiredPlans:["free","premium","enterprise","basic"]},{id:3,name:"Informations l√©gales",icon:O,requiredPlans:["free","premium","enterprise","basic"]},{id:4,name:"Configuration",icon:L,requiredPlans:["free","premium","enterprise","basic"]},{id:5,name:"Paiement",icon:U,requiredPlans:["premium","enterprise","basic"]}],f=_.filter(a=>a.requiredPlans.includes(g))||_,E=a=>{if(a>l){for(let r=l;r<a;r++)if(!z(r)){window.scrollTo({top:0,behavior:"smooth"});return}}d(a)},S=()=>window.history.back(),D=[{value:"XOF",label:"XOF (Franc CFA)"},{value:"EUR",label:"EUR (Euro)"},{value:"USD",label:"USD (Dollar am√©ricain)"},{value:"GHS",label:"GHS (Cedi ghan√©en)"}],I=[{value:"Africa/Lome",label:"Africa/Lome (Togo)"},{value:"America/New_York",label:"America/New_York (Etats-Unis)"},{value:"Europe/Paris",label:"Europe/Paris (France)"},{value:"Asia/Tokyo",label:"Asia/Tokyo (Japon)"}],P=[{value:"Togo",label:"Togo"},{value:"B√©nin",label:"B√©nin"},{value:"Burkina Faso",label:"Burkina Faso"},{value:"C√¥te d'Ivoire",label:"C√¥te d'Ivoire"},{value:"Guin√©e",label:"Guin√©e"}],z=a=>{const r={};switch(a){case 1:t.company_name.trim()||(r.company_name="Le nom de l'entreprise est obligatoire"),t.company_email.trim()||(r.company_email="L'email de l'entreprise est obligatoire"),t.company_phone.trim()||(r.company_phone="Le t√©l√©phone est obligatoire");break;case 2:break;case 3:break;case 4:t.plan_start_date||(r.plan_start_date="La date de d√©but du plan est obligatoire"),t.plan_end_date||(r.plan_end_date="La date de fin du plan est obligatoire");break;case 5:!t.mode_paiement&&["premium","enterprise","basic"].includes(g)&&(r.mode_paiement="Veuillez s√©lectionner un mode de paiement");break}return Object.keys(r).forEach(s=>{h(s,r[s])}),Object.keys(r).length===0},M=()=>{z(l)?d(Math.min(f.length,l+1)):window.scrollTo({top:0,behavior:"smooth"})},R=()=>{d(Math.max(1,l-1))};return e.jsxs(e.Fragment,{children:[e.jsx(W,{title:"Ajouter une Entreprise"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-4 py-8 transition-colors duration-300 dark:from-black dark:via-gray-950 dark:to-black",children:e.jsxs("div",{className:"relative mx-auto max-w-6xl",children:[e.jsx(Y,{className:"hidden md:absolute md:block",onClick:S,children:"Retour"}),e.jsx("button",{className:"absolute right-0 h-8 w-8 cursor-pointer rounded-full md:hidden",onClick:S,"aria-label":"Retour",children:e.jsx(Q,{className:"h-full w-full rounded-full bg-white text-red-400"})}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-4xl font-bold text-gray-900 dark:text-white",children:"Cr√©er une nouvelle entreprise"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Remplissez les informations pour ajouter votre entreprise"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:f.map((a,r)=>e.jsxs("div",{className:"flex flex-1 items-center",children:[e.jsxs("div",{className:"flex flex-1 cursor-pointer flex-col items-center",onClick:()=>E(a.id),children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 transition-all ${l>=a.id?"border-blue-500 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg":"border-gray-300 bg-white text-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-500"}`,children:e.jsx(a.icon,{className:"h-6 w-6"})}),e.jsx("span",{className:`mt-2 hidden text-center text-xs font-medium md:block ${l>=a.id?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:a.name})]}),r<f.length-1&&e.jsx("div",{className:`mx-2 h-0.5 flex-1 transition-all ${l>a.id?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gray-300 dark:bg-gray-700"}`})]},a.id))})}),e.jsxs("div",{className:"relative rounded-2xl border border-gray-200 bg-white p-8 shadow-xl transition-colors duration-300 dark:border-gray-700 dark:bg-white/15",children:[v&&e.jsx("div",{className:"mb-6 rounded-xl border-l-4 border-green-500 bg-green-50 p-4 dark:bg-green-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-8 w-8 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/40",children:e.jsx("svg",{className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("p",{className:"font-semibold text-green-800 dark:text-green-400",children:v})]})}),u&&e.jsx("div",{className:"mb-6 rounded-xl border-l-4 border-red-500 bg-red-50 p-4 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 flex h-8 w-8 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/40",children:e.jsx("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("p",{className:"font-semibold text-red-800 dark:text-red-400",children:u})]})}),e.jsx("div",{className:"absolute right-8",children:e.jsx("span",{className:"text-2xl font-semibold text-blue-600 capitalize dark:text-blue-400",children:g==="free"?"Gratuit":g})}),e.jsxs("div",{className:"space-y-8",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 dark:border-gray-700",children:[e.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(A,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Informations de base"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Les informations essentielles de votre entreprise"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx("div",{children:e.jsx(j,{error:o.company_name,label:"Nom de l'entreprise",type:"text",id:"company_name",value:t.company_name,onChange:a=>n("company_name",a.target.value),onFocus:()=>h("company_name",""),placeholder:"Ex: Tech Solutions Inc.",required:!0})}),e.jsx("div",{children:e.jsx(j,{error:o.company_email,label:"Email de l'entreprise",type:"email",id:"company_email",value:t.company_email,onChange:a=>n("company_email",a.target.value),onFocus:()=>h("company_email",""),placeholder:"contact@entreprise.com",required:!0})}),e.jsx("div",{children:e.jsx(j,{error:o.company_phone,label:"T√©l√©phone de l'entreprise",type:"tel",id:"company_phone",value:t.company_phone,onChange:a=>n("company_phone",a.target.value),onFocus:()=>h("company_phone",""),placeholder:"+228 XX XX XX XX",required:!0})}),e.jsx("div",{children:e.jsx(j,{error:o.company_website,label:"Site web de l'entreprise",type:"url",id:"company_website",value:t.company_website,onChange:a=>n("company_website",a.target.value),placeholder:"https://www.entreprise.com"})}),e.jsx("div",{children:e.jsx(ce,{error:o.company_description,label:"Description de l'entreprise",id:"company_description",value:t.company_description,onChange:a=>n("company_description",a.target.value),placeholder:"D√©crivez votre entreprise, ses activit√©s, sa mission...",rows:6})}),e.jsx("div",{children:e.jsx(de,{label:"Logo de l'entreprise",error:o.company_logo,id:"company_logo",accept:"image/*",onFileChange:C})})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 dark:border-gray-700",children:[e.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(B,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Coordonn√©es"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Adresse et localisation de l'entreprise"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx("div",{className:"",children:e.jsx(j,{label:"Adresse compl√®te",error:o.company_address,type:"text",id:"company_address",value:t.company_address,onChange:a=>n("company_address",a.target.value),placeholder:"123 Rue de l'Ind√©pendance"})}),e.jsx("div",{children:e.jsx(j,{label:"Code postal",type:"text",id:"company_postal_code",value:t.company_postal_code,onChange:a=>n("company_postal_code",a.target.value),placeholder:"BP 12345",error:o.company_postal_code})}),e.jsx("div",{children:e.jsx(j,{label:"Ville",type:"text",id:"company_city",value:t.company_city,onChange:a=>n("company_city",a.target.value),placeholder:"Lom√©",error:o.company_city})}),e.jsx("div",{children:e.jsx(F,{id:"company_country",label:"Pays",value:t.company_country,onChange:a=>n("company_country",a),options:P,error:o.company_country,placeholder:"S√©lectionnez un pays"})})]})]}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 dark:border-gray-700",children:[e.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(O,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Informations l√©gales"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Documents et informations fiscales"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx("div",{children:e.jsx(j,{label:"Num√©ro d'enregistrement",type:"text",id:"company_registration_number",value:t.company_registration_number,onChange:a=>n("company_registration_number",a.target.value),placeholder:"RCCM-TG-XXX-XXX",error:o.company_registration_number})}),e.jsx("div",{children:e.jsx(j,{label:"Num√©ro fiscal / NIF",type:"text",id:"company_tax_number",value:t.company_tax_number,onChange:a=>n("company_tax_number",a.target.value),placeholder:"NIF-XXXXXXXXX",error:o.company_tax_number})})]})]}),l===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 dark:border-gray-700",children:[e.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(L,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Configuration"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Param√®tres de fonctionnement"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx("div",{children:e.jsx(q,{id:"plan_start_date",label:"Date de d√©but du plan",value:t.plan_start_date,onChange:a=>(n("plan_start_date",a),n("plan_end_date",T(a)),h("plan_start_date","")),error:o.plan_start_date,min:new Date().toISOString().split("T")[0],required:!0})}),e.jsx("div",{children:e.jsx(q,{id:"plan_end_date",label:"Date de fin du plan",value:t.plan_end_date,onChange:a=>(n("plan_end_date",a),h("plan_end_date","")),error:o.plan_end_date,min:t.plan_start_date,required:!0})}),e.jsx("div",{children:e.jsx(F,{id:"company_currency",label:"Devise",value:t.company_currency,onChange:a=>n("company_currency",a),options:D,error:o.company_currency,placeholder:"S√©lectionnez une devise"})}),e.jsx("div",{children:e.jsx(F,{id:"company_timezone",label:"Fuseau horaire",value:t.company_timezone,onChange:a=>n("company_timezone",a),options:I,error:o.company_timezone,placeholder:"S√©lectionnez un fuseau horaire"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"group flex cursor-pointer items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:a=>n("is_active",a.target.checked),className:"h-5 w-5 rounded border-gray-300 text-blue-600 transition-all focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 transition-colors group-hover:text-blue-600 dark:text-gray-300 dark:group-hover:text-blue-400",children:"Entreprise active"})]}),e.jsx("p",{className:"mt-1 ml-8 text-xs text-gray-500 dark:text-gray-400",children:"D√©cochez cette option pour d√©sactiver temporairement l'entreprise"})]})]})]}),l===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4 dark:border-gray-700",children:[e.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(U,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Paiement"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Choisissez votre mode de paiement"})]}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-4",children:me.map((a,r)=>e.jsx(ie,{label:a.label,icon:a.icon,selected:t.mode_paiement===a.value,onSelect:()=>{n("mode_paiement",a.value),h("mode_paiement","")}},r))}),o.mode_paiement&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o.mode_paiement})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 dark:border-gray-700",children:[e.jsxs("button",{type:"button",onClick:R,disabled:l===1,className:"flex cursor-pointer items-center rounded-lg bg-gray-100 px-6 py-3 font-semibold text-gray-700 transition-all hover:bg-gray-200 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:[e.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Pr√©c√©dent"]}),l<f.length?e.jsxs("button",{type:"button",onClick:M,className:"flex cursor-pointer items-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 font-semibold text-white shadow-lg transition-all hover:from-blue-700 hover:to-indigo-700 hover:shadow-xl",children:["Suivant",e.jsx("svg",{className:"ml-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsxs("button",{type:"button",onClick:w,disabled:b,className:"flex cursor-pointer items-center rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-3 font-semibold text-white shadow-lg transition-all hover:from-green-700 hover:to-emerald-700 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",children:[e.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),b?"Enregistrement...":e.jsxs(e.Fragment,{children:["Enregistrer ",e.jsx("span",{className:"ml-1 hidden md:block",children:"l' entreprise"})]})]})]})]})]}),e.jsx("div",{className:"mt-6 rounded-xl border border-blue-200 bg-blue-50 p-6 dark:border-blue-800 dark:bg-blue-900/20",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(L,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1 text-sm font-semibold text-blue-900 dark:text-blue-300",children:"Informations importantes"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-400",children:[e.jsxs("li",{children:["‚Ä¢ Les champs marqu√©s d'un ast√©risque (",e.jsx("span",{className:"text-red-600",children:"*"}),") sont obligatoires"]}),e.jsx("li",{children:"‚Ä¢ Le logo doit √™tre au format JPG, PNG ou SVG (max 2MB)"}),e.jsx("li",{children:"‚Ä¢ Vous pourrez modifier ces informations plus tard"})]})]})]})})]})})]})}export{Se as default};
